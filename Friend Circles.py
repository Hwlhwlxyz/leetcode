import copy
def findCircleNum(M):
    """
    :type M: List[List[int]]
    :rtype: int
    """
    u = list(range(len(M[0])))

    for i in range(len(M[0])):
        for j in range(len(M)):
            if M[i][j] == 1:
                id = min(u[i], u[j])
                for k in range(len(u)):
                    if u[k] == u[i] or u[k] == u[j]:
                        u[k] = id
                u[i], u[j] = id, id



    tmpset = set(u)
    res = len(tmpset)

    return res


#print(findCircleNum([[1,1,0],[1,1,0],[0,0,1]]))

#print(findCircleNum([[1,1,0],[1,1,1],[0,1,1]]))
''''
print(findCircleNum([[1,0,0,1],[0,1,1,0],[0,1,1,1],[1,0,1,1]]))


print(findCircleNum([[1,0,0,0,0,0,0,0,0,1,0,0,0,0,0],
                     [0,1,0,1,0,0,0,0,0,0,0,0,0,1,0],
                     [0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],
                     [0,1,0,1,0,0,0,1,0,0,0,1,0,0,0],
                     [0,0,0,0,1,0,0,0,0,0,0,0,1,0,0],
                     [0,0,0,0,0,1,0,0,0,0,0,0,0,0,0],
                     [0,0,0,0,0,0,1,0,0,0,0,0,0,0,0],
                     [0,0,0,1,0,0,0,1,1,0,0,0,0,0,0],
                     [0,0,0,0,0,0,0,1,1,0,0,0,0,0,0],
                     [1,0,0,0,0,0,0,0,0,1,0,0,0,0,0],
                     [0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],
                     [0,0,0,1,0,0,0,0,0,0,0,1,0,0,0],
                     [0,0,0,0,1,0,0,0,0,0,0,0,1,0,0],
                     [0,1,0,0,0,0,0,0,0,0,0,0,0,1,0],
                     [0,0,0,0,0,0,0,0,0,0,0,0,0,0,1]]))
'''

testl = [[1,0,0,0,1,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,1,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0],[1,0,0,0,1,0,0,0,0,0,0,0,1,0,0],[0,1,0,0,0,1,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,1,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,1,1,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,1,0,0,0],[0,0,0,0,0,0,1,1,0,0,1,1,0,0,1],[0,0,0,0,1,1,0,1,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,1,0,0,1]]
print(findCircleNum(testl))